// autonomy-excavate
// RASPBERRY-SI Planning model prototype for Ocean Worlds Autonomy Testbed
// Javier Camara, Univerity of York
// javier.camaramoreno@york.ac.uk

mdp


 // Number of excavation locations
 // Number of dump locations

// Parameters
const curLoc=19; // Current location of arm when planner is called (here we have a hardcoded value, but this will be provided to the planner)

// Special Locations
const locOrig=0;
const locNull=18+100; // Only auxiliary constants to define the range of variable loc

// Excavation Locations
const xloc1=1;
const xloc2=2;
const xloc3=3;
const xloc4=4;
const xloc5=5;
const xloc6=6;
const xloc7=7;
const xloc8=8;
const xloc9=9;
const xloc10=10;
const xloc11=11;
const xloc12=12;
const xloc13=13;
const xloc14=14;
const xloc15=15;

// Dump Locations
const dloc1=16;
const dloc2=17;
const dloc3=18;


// Possible states of the mission (to keep track of progress)
const START=0;
const DONE_EXCAVATING=1;
const DONE_DUMPING=2;
const FAILED=100;

formula tried_all_xloc =  tried_xloc1 &  tried_xloc2 &  tried_xloc3 &  tried_xloc4 &  tried_xloc5 &  tried_xloc6 &  tried_xloc7 &  tried_xloc8 &  tried_xloc9 &  tried_xloc10 &  tried_xloc11 &  tried_xloc12 &  tried_xloc13 &  tried_xloc14 &  tried_xloc15 &  true; // Have we tried all excavation locations?
//const int MAX_TRIED; // Maximum number of excavation attempts (can be 1 by default, number of excavation locations upper bound)

// Module that is in charge of selecting an excavation location
// It tries one location first, and if it does not succeed, it goes to the next one.
// If all locations have been tried and state is still START (unsuccessful excavation), it fails
module autonomy
	s:[START..FAILED] init START; // State of mission
	loc:[locOrig..locNull] init curLoc;
	tried:[0..MAX_TRIED] init 0; // Keeps track of excavation attempts

	
	tried_xloc1: bool init false;
	succ_xloc1: bool init false;
	tried_xloc2: bool init false;
	succ_xloc2: bool init false;
	tried_xloc3: bool init false;
	succ_xloc3: bool init false;
	tried_xloc4: bool init false;
	succ_xloc4: bool init false;
	tried_xloc5: bool init false;
	succ_xloc5: bool init false;
	tried_xloc6: bool init false;
	succ_xloc6: bool init false;
	tried_xloc7: bool init false;
	succ_xloc7: bool init false;
	tried_xloc8: bool init false;
	succ_xloc8: bool init false;
	tried_xloc9: bool init false;
	succ_xloc9: bool init false;
	tried_xloc10: bool init false;
	succ_xloc10: bool init false;
	tried_xloc11: bool init false;
	succ_xloc11: bool init false;
	tried_xloc12: bool init false;
	succ_xloc12: bool init false;
	tried_xloc13: bool init false;
	succ_xloc13: bool init false;
	tried_xloc14: bool init false;
	succ_xloc14: bool init false;
	tried_xloc15: bool init false;
	succ_xloc15: bool init false;

	// Excavation behavior
	// In the following commands, we have:
	// Command 1:
	// * A guard that checks: (1) that we are at the START of the mission
	// 			  (2) that we have not tried to excavate location A
	//			  (3) that the maximum number of excavation attempts has not been reached
	// * An update with probability ex_locA (excavatability of excavation location A) that:
	//			  (1) updates the variable saying that we have tried location A (not needed but left for clarity)
	// 			  (2) updates the variable that keeps track of excavation attempts
	//			  (3) updates the arm location variable to location A
	//            (4) updates the variable for excavation success in the current location to true	
	// * Another update with probability 1-ex_locA that:
	//			  (1) updates the variable saying that we have tried location A
	//			  (2) updates the arm location variable to location A (even if we have not succeeded excavating)
	// 			  (3) updates the variable that keeps track of excavation attempts
	// Command 2:
	// * A guard that checks: (1) that there is success in the current excavation location
	// * An update that: (1) sets the excavation success back to false
   	//			         (2) updates the state to successful excavation (DONE_EXCAVATING)

	
	[try_xloc1] (s=START) & (!tried_xloc1) & (tried<MAX_TRIED) -> ex_loc1: (s'=DONE_EXCAVATING) & (tried_xloc1'=true) &  (tried'=tried+1)  & (loc'=xloc1) & (succ_xloc1'=true) 
				  	       + (1-ex_loc1): (tried_xloc1'=true) &  (tried'=tried+1) & (loc'=xloc1);
	[select_xloc1] (succ_xloc1) -> (succ_xloc1'=false) & (s'=DONE_EXCAVATING);
	[try_xloc2] (s=START) & (!tried_xloc2) & (tried<MAX_TRIED) -> ex_loc2: (s'=DONE_EXCAVATING) & (tried_xloc2'=true) &  (tried'=tried+1)  & (loc'=xloc2) & (succ_xloc2'=true) 
				  	       + (1-ex_loc2): (tried_xloc2'=true) &  (tried'=tried+1) & (loc'=xloc2);
	[select_xloc2] (succ_xloc2) -> (succ_xloc2'=false) & (s'=DONE_EXCAVATING);
	[try_xloc3] (s=START) & (!tried_xloc3) & (tried<MAX_TRIED) -> ex_loc3: (s'=DONE_EXCAVATING) & (tried_xloc3'=true) &  (tried'=tried+1)  & (loc'=xloc3) & (succ_xloc3'=true) 
				  	       + (1-ex_loc3): (tried_xloc3'=true) &  (tried'=tried+1) & (loc'=xloc3);
	[select_xloc3] (succ_xloc3) -> (succ_xloc3'=false) & (s'=DONE_EXCAVATING);
	[try_xloc4] (s=START) & (!tried_xloc4) & (tried<MAX_TRIED) -> ex_loc4: (s'=DONE_EXCAVATING) & (tried_xloc4'=true) &  (tried'=tried+1)  & (loc'=xloc4) & (succ_xloc4'=true) 
				  	       + (1-ex_loc4): (tried_xloc4'=true) &  (tried'=tried+1) & (loc'=xloc4);
	[select_xloc4] (succ_xloc4) -> (succ_xloc4'=false) & (s'=DONE_EXCAVATING);
	[try_xloc5] (s=START) & (!tried_xloc5) & (tried<MAX_TRIED) -> ex_loc5: (s'=DONE_EXCAVATING) & (tried_xloc5'=true) &  (tried'=tried+1)  & (loc'=xloc5) & (succ_xloc5'=true) 
				  	       + (1-ex_loc5): (tried_xloc5'=true) &  (tried'=tried+1) & (loc'=xloc5);
	[select_xloc5] (succ_xloc5) -> (succ_xloc5'=false) & (s'=DONE_EXCAVATING);
	[try_xloc6] (s=START) & (!tried_xloc6) & (tried<MAX_TRIED) -> ex_loc6: (s'=DONE_EXCAVATING) & (tried_xloc6'=true) &  (tried'=tried+1)  & (loc'=xloc6) & (succ_xloc6'=true) 
				  	       + (1-ex_loc6): (tried_xloc6'=true) &  (tried'=tried+1) & (loc'=xloc6);
	[select_xloc6] (succ_xloc6) -> (succ_xloc6'=false) & (s'=DONE_EXCAVATING);
	[try_xloc7] (s=START) & (!tried_xloc7) & (tried<MAX_TRIED) -> ex_loc7: (s'=DONE_EXCAVATING) & (tried_xloc7'=true) &  (tried'=tried+1)  & (loc'=xloc7) & (succ_xloc7'=true) 
				  	       + (1-ex_loc7): (tried_xloc7'=true) &  (tried'=tried+1) & (loc'=xloc7);
	[select_xloc7] (succ_xloc7) -> (succ_xloc7'=false) & (s'=DONE_EXCAVATING);
	[try_xloc8] (s=START) & (!tried_xloc8) & (tried<MAX_TRIED) -> ex_loc8: (s'=DONE_EXCAVATING) & (tried_xloc8'=true) &  (tried'=tried+1)  & (loc'=xloc8) & (succ_xloc8'=true) 
				  	       + (1-ex_loc8): (tried_xloc8'=true) &  (tried'=tried+1) & (loc'=xloc8);
	[select_xloc8] (succ_xloc8) -> (succ_xloc8'=false) & (s'=DONE_EXCAVATING);
	[try_xloc9] (s=START) & (!tried_xloc9) & (tried<MAX_TRIED) -> ex_loc9: (s'=DONE_EXCAVATING) & (tried_xloc9'=true) &  (tried'=tried+1)  & (loc'=xloc9) & (succ_xloc9'=true) 
				  	       + (1-ex_loc9): (tried_xloc9'=true) &  (tried'=tried+1) & (loc'=xloc9);
	[select_xloc9] (succ_xloc9) -> (succ_xloc9'=false) & (s'=DONE_EXCAVATING);
	[try_xloc10] (s=START) & (!tried_xloc10) & (tried<MAX_TRIED) -> ex_loc10: (s'=DONE_EXCAVATING) & (tried_xloc10'=true) &  (tried'=tried+1)  & (loc'=xloc10) & (succ_xloc10'=true) 
				  	       + (1-ex_loc10): (tried_xloc10'=true) &  (tried'=tried+1) & (loc'=xloc10);
	[select_xloc10] (succ_xloc10) -> (succ_xloc10'=false) & (s'=DONE_EXCAVATING);
	[try_xloc11] (s=START) & (!tried_xloc11) & (tried<MAX_TRIED) -> ex_loc11: (s'=DONE_EXCAVATING) & (tried_xloc11'=true) &  (tried'=tried+1)  & (loc'=xloc11) & (succ_xloc11'=true) 
				  	       + (1-ex_loc11): (tried_xloc11'=true) &  (tried'=tried+1) & (loc'=xloc11);
	[select_xloc11] (succ_xloc11) -> (succ_xloc11'=false) & (s'=DONE_EXCAVATING);
	[try_xloc12] (s=START) & (!tried_xloc12) & (tried<MAX_TRIED) -> ex_loc12: (s'=DONE_EXCAVATING) & (tried_xloc12'=true) &  (tried'=tried+1)  & (loc'=xloc12) & (succ_xloc12'=true) 
				  	       + (1-ex_loc12): (tried_xloc12'=true) &  (tried'=tried+1) & (loc'=xloc12);
	[select_xloc12] (succ_xloc12) -> (succ_xloc12'=false) & (s'=DONE_EXCAVATING);
	[try_xloc13] (s=START) & (!tried_xloc13) & (tried<MAX_TRIED) -> ex_loc13: (s'=DONE_EXCAVATING) & (tried_xloc13'=true) &  (tried'=tried+1)  & (loc'=xloc13) & (succ_xloc13'=true) 
				  	       + (1-ex_loc13): (tried_xloc13'=true) &  (tried'=tried+1) & (loc'=xloc13);
	[select_xloc13] (succ_xloc13) -> (succ_xloc13'=false) & (s'=DONE_EXCAVATING);
	[try_xloc14] (s=START) & (!tried_xloc14) & (tried<MAX_TRIED) -> ex_loc14: (s'=DONE_EXCAVATING) & (tried_xloc14'=true) &  (tried'=tried+1)  & (loc'=xloc14) & (succ_xloc14'=true) 
				  	       + (1-ex_loc14): (tried_xloc14'=true) &  (tried'=tried+1) & (loc'=xloc14);
	[select_xloc14] (succ_xloc14) -> (succ_xloc14'=false) & (s'=DONE_EXCAVATING);
	[try_xloc15] (s=START) & (!tried_xloc15) & (tried<MAX_TRIED) -> ex_loc15: (s'=DONE_EXCAVATING) & (tried_xloc15'=true) &  (tried'=tried+1)  & (loc'=xloc15) & (succ_xloc15'=true) 
				  	       + (1-ex_loc15): (tried_xloc15'=true) &  (tried'=tried+1) & (loc'=xloc15);
	[select_xloc15] (succ_xloc15) -> (succ_xloc15'=false) & (s'=DONE_EXCAVATING);

	
	// If all excavation locations have been tried (or maximum number of excavation attempts has been reached) and state is not DONE_EXCAVATING, mission fails
	[] (s=START) & (tried_all_xloc | tried>= MAX_TRIED) -> (s'=FAILED); 

	// Dump behavior
	// These commands just update the state to DONE_DUMPING (no probability of failure), and update arm location

	[select_dloc1] (s=DONE_EXCAVATING) -> (s'=DONE_DUMPING) & (loc'=dloc1);
	[select_dloc2] (s=DONE_EXCAVATING) -> (s'=DONE_DUMPING) & (loc'=dloc2);
	[select_dloc3] (s=DONE_EXCAVATING) -> (s'=DONE_DUMPING) & (loc'=dloc3);


endmodule


// stopping condition label for PCTL formula checking
label "done" = (s=DONE_DUMPING);



// Script-generated rewards and constants start here


// Science value reward
// The estimated science value for the different excavation locations has to be provided by a different model
rewards "SV"
	[select_xloc9] true: 0.9176;
	[select_xloc8] true: 0.3753;
	[select_xloc3] true: 0.4517;
	[select_xloc2] true: 0.7941;
	[select_xloc1] true: 0.98;
	[select_xloc7] true: 0.9754;
	[select_xloc6] true: 0.9669;
	[select_xloc5] true: 0.0804;
	[select_xloc4] true: 0.9282;
	[select_xloc13] true: 0.372;
	[select_xloc12] true: 0.7332;
	[select_xloc11] true: 0.5072;
	[select_xloc10] true: 0.538;
	[select_xloc15] true: 0.686;
	[select_xloc14] true: 0.4877;
endrewards

// Energy consumption cost
// The values for the energy costs have to be provided by a different model
// the reward structure below considers both the cost of excavation and moving to the arm to a location
// the cost of excavation is fixed, but the cost of movement from another location varies, depending on the
// original location of the arm (there is one line of the reward structure per alternative original location
// NOTE: cost of moving the arm A->B and B<-A are the same here, but these costs might be different due to different
// trajectories computed by lower-level control

rewards "EC"
	[select_xloc8] loc=xloc9 :0.711969100453;
	[select_xloc3] loc=xloc9 :0.232594066992;
	[select_xloc2] loc=xloc9 :0.602992537267;
	[select_xloc1] loc=xloc9 :1.01271911209;
	[select_xloc7] loc=xloc9 :0.802246844805;
	[select_xloc6] loc=xloc9 :0.912414379545;
	[select_xloc5] loc=xloc9 :0.269072480941;
	[select_xloc4] loc=xloc9 :0.841189633793;
	[select_xloc13] loc=xloc9 :1.61505417866;
	[select_xloc12] loc=xloc9 :1.20016665509;
	[select_xloc11] loc=xloc9 :0.378021163429;
	[select_xloc10] loc=xloc9 :1.02839681057;
	[select_xloc15] loc=xloc9 :0.466476151588;
	[select_xloc14] loc=xloc9 :1.4;
	[select_dloc3] loc=xloc9 :0.843148859929;
	[select_dloc2] loc=xloc9 :0.100498756211;
	[select_dloc1] loc=xloc9 :0.653911308971;
	[select_xloc9] loc=xloc8 :0.711969100453;
	[select_xloc3] loc=xloc8 :0.80399004969;
	[select_xloc2] loc=xloc8 :0.214709105536;
	[select_xloc1] loc=xloc8 :0.301496268634;
	[select_xloc7] loc=xloc8 :0.214709105536;
	[select_xloc6] loc=xloc8 :0.200997512422;
	[select_xloc5] loc=xloc8 :0.502493781056;
	[select_xloc4] loc=xloc8 :0.402616442784;
	[select_xloc13] loc=xloc8 :0.904488805901;
	[select_xloc12] loc=xloc8 :0.522015325446;
	[select_xloc11] loc=xloc8 :1.00498756211;
	[select_xloc10] loc=xloc8 :0.476340214553;
	[select_xloc15] loc=xloc8 :0.476340214553;
	[select_xloc14] loc=xloc8 :0.711969100453;
	[select_dloc3] loc=xloc8 :0.6;
	[select_dloc2] loc=xloc8 :0.808949936646;
	[select_dloc1] loc=xloc8 :0.402616442784;
	[select_xloc9] loc=xloc3 :0.232594066992;
	[select_xloc8] loc=xloc3 :0.80399004969;
	[select_xloc2] loc=xloc3 :0.750266619276;
	[select_xloc1] loc=xloc3 :1.10113577728;
	[select_xloc7] loc=xloc3 :0.939627585802;
	[select_xloc6] loc=xloc3 :1.00179838291;
	[select_xloc5] loc=xloc3 :0.301496268634;
	[select_xloc4] loc=xloc3 :1.01533245787;
	[select_xloc13] loc=xloc3 :1.70002941151;
	[select_xloc12] loc=xloc3 :1.32018938035;
	[select_xloc11] loc=xloc3 :0.200997512422;
	[select_xloc10] loc=xloc3 :1.1884864324;
	[select_xloc15] loc=xloc3 :0.672681202354;
	[select_xloc14] loc=xloc3 :1.51462866736;
	[select_dloc3] loc=xloc3 :1.04995237987;
	[select_dloc2] loc=xloc3 :0.2;
	[select_dloc1] loc=xloc3 :0.843148859929;
	[select_xloc9] loc=xloc2 :0.602992537267;
	[select_xloc8] loc=xloc2 :0.214709105536;
	[select_xloc3] loc=xloc2 :0.750266619276;
	[select_xloc1] loc=xloc2 :0.456508488421;
	[select_xloc7] loc=xloc2 :0.2;
	[select_xloc6] loc=xloc2 :0.366196668472;
	[select_xloc5] loc=xloc2 :0.466476151588;
	[select_xloc4] loc=xloc2 :0.282842712475;
	[select_xloc13] loc=xloc2 :1.03846039886;
	[select_xloc12] loc=xloc2 :0.601331855135;
	[select_xloc11] loc=xloc2 :0.945568612;
	[select_xloc10] loc=xloc2 :0.438634243989;
	[select_xloc15] loc=xloc2 :0.269072480941;
	[select_xloc14] loc=xloc2 :0.802246844805;
	[select_dloc3] loc=xloc2 :0.42201895692;
	[select_dloc2] loc=xloc2 :0.703491293478;
	[select_dloc1] loc=xloc2 :0.2;
	[select_xloc9] loc=xloc1 :1.01271911209;
	[select_xloc8] loc=xloc1 :0.301496268634;
	[select_xloc3] loc=xloc1 :1.10113577728;
	[select_xloc2] loc=xloc1 :0.456508488421;
	[select_xloc7] loc=xloc1 :0.297321374946;
	[select_xloc6] loc=xloc1 :0.100498756211;
	[select_xloc5] loc=xloc1 :0.80024996095;
	[select_xloc4] loc=xloc1 :0.465188133985;
	[select_xloc13] loc=xloc1 :0.602992537267;
	[select_xloc12] loc=xloc1 :0.269072480941;
	[select_xloc11] loc=xloc1 :1.30188325129;
	[select_xloc10] loc=xloc1 :0.4;
	[select_xloc15] loc=xloc1 :0.721110255093;
	[select_xloc14] loc=xloc1 :0.430813184571;
	[select_dloc3] loc=xloc1 :0.697782200977;
	[select_dloc2] loc=xloc1 :1.11018016556;
	[select_dloc1] loc=xloc1 :0.58;
	[select_xloc9] loc=xloc7 :0.802246844805;
	[select_xloc8] loc=xloc7 :0.214709105536;
	[select_xloc3] loc=xloc7 :0.939627585802;
	[select_xloc2] loc=xloc7 :0.2;
	[select_xloc1] loc=xloc7 :0.297321374946;
	[select_xloc6] loc=xloc7 :0.232594066992;
	[select_xloc5] loc=xloc7 :0.646219776856;
	[select_xloc4] loc=xloc7 :0.2;
	[select_xloc13] loc=xloc7 :0.847584804017;
	[select_xloc12] loc=xloc7 :0.401995024845;
	[select_xloc11] loc=xloc7 :1.13758516165;
	[select_xloc10] loc=xloc7 :0.269072480941;
	[select_xloc15] loc=xloc7 :0.438634243989;
	[select_xloc14] loc=xloc7 :0.602992537267;
	[select_dloc3] loc=xloc7 :0.42201895692;
	[select_dloc2] loc=xloc7 :0.902718117687;
	[select_dloc1] loc=xloc7 :0.282842712475;
	[select_xloc9] loc=xloc6 :0.912414379545;
	[select_xloc8] loc=xloc6 :0.200997512422;
	[select_xloc3] loc=xloc6 :1.00179838291;
	[select_xloc2] loc=xloc6 :0.366196668472;
	[select_xloc1] loc=xloc6 :0.100498756211;
	[select_xloc7] loc=xloc6 :0.232594066992;
	[select_xloc5] loc=xloc6 :0.700642562224;
	[select_xloc4] loc=xloc6 :0.42201895692;
	[select_xloc13] loc=xloc6 :0.703491293478;
	[select_xloc12] loc=xloc6 :0.344818792991;
	[select_xloc11] loc=xloc6 :1.20266371027;
	[select_xloc10] loc=xloc6 :0.402616442784;
	[select_xloc15] loc=xloc6 :0.6341135545;
	[select_xloc14] loc=xloc6 :0.522015325446;
	[select_dloc3] loc=xloc6 :0.651459898996;
	[select_dloc2] loc=xloc6 :1.00975244491;
	[select_dloc1] loc=xloc6 :0.508035431835;
	[select_xloc9] loc=xloc5 :0.269072480941;
	[select_xloc8] loc=xloc5 :0.502493781056;
	[select_xloc3] loc=xloc5 :0.301496268634;
	[select_xloc2] loc=xloc5 :0.466476151588;
	[select_xloc1] loc=xloc5 :0.80024996095;
	[select_xloc7] loc=xloc5 :0.646219776856;
	[select_xloc6] loc=xloc5 :0.700642562224;
	[select_xloc4] loc=xloc5 :0.74404300951;
	[select_xloc13] loc=xloc5 :1.400571312;
	[select_xloc12] loc=xloc5 :1.01980390272;
	[select_xloc11] loc=xloc5 :0.502493781056;
	[select_xloc10] loc=xloc5 :0.903548559846;
	[select_xloc15] loc=xloc5 :0.465188133985;
	[select_xloc14] loc=xloc5 :1.21342490497;
	[select_dloc3] loc=xloc5 :0.820060973343;
	[select_dloc2] loc=xloc5 :0.344818792991;
	[select_dloc1] loc=xloc5 :0.594642749893;
	[select_xloc9] loc=xloc4 :0.841189633793;
	[select_xloc8] loc=xloc4 :0.402616442784;
	[select_xloc3] loc=xloc4 :1.01533245787;
	[select_xloc2] loc=xloc4 :0.282842712475;
	[select_xloc1] loc=xloc4 :0.465188133985;
	[select_xloc7] loc=xloc4 :0.2;
	[select_xloc6] loc=xloc4 :0.42201895692;
	[select_xloc5] loc=xloc4 :0.74404300951;
	[select_xloc13] loc=xloc4 :0.932952303175;
	[select_xloc12] loc=xloc4 :0.466476151588;
	[select_xloc11] loc=xloc4 :1.2042009799;
	[select_xloc10] loc=xloc4 :0.200997512422;
	[select_xloc15] loc=xloc4 :0.40049968789;
	[select_xloc14] loc=xloc4 :0.653911308971;
	[select_dloc3] loc=xloc4 :0.232594066992;
	[select_dloc2] loc=xloc4 :0.939627585802;
	[select_dloc1] loc=xloc4 :0.2;
	[select_xloc9] loc=xloc13 :1.61505417866;
	[select_xloc8] loc=xloc13 :0.904488805901;
	[select_xloc3] loc=xloc13 :1.70002941151;
	[select_xloc2] loc=xloc13 :1.03846039886;
	[select_xloc1] loc=xloc13 :0.602992537267;
	[select_xloc7] loc=xloc13 :0.847584804017;
	[select_xloc6] loc=xloc13 :0.703491293478;
	[select_xloc5] loc=xloc13 :1.400571312;
	[select_xloc4] loc=xloc13 :0.932952303175;
	[select_xloc12] loc=xloc13 :0.466476151588;
	[select_xloc11] loc=xloc13 :1.90002631561;
	[select_xloc10] loc=xloc13 :0.756042326857;
	[select_xloc15] loc=xloc13 :1.28514590611;
	[select_xloc14] loc=xloc13 :0.297321374946;
	[select_dloc3] loc=xloc13 :1.13406349029;
	[select_dloc2] loc=xloc13 :1.71292148098;
	[select_dloc1] loc=xloc13 :1.10923396991;
	[select_xloc9] loc=xloc12 :1.20016665509;
	[select_xloc8] loc=xloc12 :0.522015325446;
	[select_xloc3] loc=xloc12 :1.32018938035;
	[select_xloc2] loc=xloc12 :0.601331855135;
	[select_xloc1] loc=xloc12 :0.269072480941;
	[select_xloc7] loc=xloc12 :0.401995024845;
	[select_xloc6] loc=xloc12 :0.344818792991;
	[select_xloc5] loc=xloc12 :1.01980390272;
	[select_xloc4] loc=xloc12 :0.466476151588;
	[select_xloc13] loc=xloc12 :0.466476151588;
	[select_xloc11] loc=xloc12 :1.52069063257;
	[select_xloc10] loc=xloc12 :0.297321374946;
	[select_xloc15] loc=xloc12 :0.829698740508;
	[select_xloc14] loc=xloc12 :0.200997512422;
	[select_dloc3] loc=xloc12 :0.672681202354;
	[select_dloc2] loc=xloc12 :1.30034610777;
	[select_dloc1] loc=xloc12 :0.646219776856;
	[select_xloc9] loc=xloc11 :0.378021163429;
	[select_xloc8] loc=xloc11 :1.00498756211;
	[select_xloc3] loc=xloc11 :0.200997512422;
	[select_xloc2] loc=xloc11 :0.945568612;
	[select_xloc1] loc=xloc11 :1.30188325129;
	[select_xloc7] loc=xloc11 :1.13758516165;
	[select_xloc6] loc=xloc11 :1.20266371027;
	[select_xloc5] loc=xloc11 :0.502493781056;
	[select_xloc4] loc=xloc11 :1.2042009799;
	[select_xloc13] loc=xloc11 :1.90002631561;
	[select_xloc12] loc=xloc11 :1.52069063257;
	[select_xloc10] loc=xloc11 :1.38235306633;
	[select_xloc15] loc=xloc11 :0.843148859929;
	[select_xloc14] loc=xloc11 :1.71548826869;
	[select_dloc3] loc=xloc11 :1.22065556157;
	[select_dloc2] loc=xloc11 :0.297321374946;
	[select_dloc1] loc=xloc11 :1.02474387044;
	[select_xloc9] loc=xloc10 :1.02839681057;
	[select_xloc8] loc=xloc10 :0.476340214553;
	[select_xloc3] loc=xloc10 :1.1884864324;
	[select_xloc2] loc=xloc10 :0.438634243989;
	[select_xloc1] loc=xloc10 :0.4;
	[select_xloc7] loc=xloc10 :0.269072480941;
	[select_xloc6] loc=xloc10 :0.402616442784;
	[select_xloc5] loc=xloc10 :0.903548559846;
	[select_xloc4] loc=xloc10 :0.200997512422;
	[select_xloc13] loc=xloc10 :0.756042326857;
	[select_xloc12] loc=xloc10 :0.297321374946;
	[select_xloc11] loc=xloc10 :1.38235306633;
	[select_xloc15] loc=xloc10 :0.6;
	[select_xloc14] loc=xloc10 :0.466476151588;
	[select_dloc3] loc=xloc10 :0.378021163429;
	[select_dloc2] loc=xloc10 :1.12805141727;
	[select_dloc1] loc=xloc10 :0.40049968789;
	[select_xloc9] loc=xloc15 :0.466476151588;
	[select_xloc8] loc=xloc15 :0.476340214553;
	[select_xloc3] loc=xloc15 :0.672681202354;
	[select_xloc2] loc=xloc15 :0.269072480941;
	[select_xloc1] loc=xloc15 :0.721110255093;
	[select_xloc7] loc=xloc15 :0.438634243989;
	[select_xloc6] loc=xloc15 :0.6341135545;
	[select_xloc5] loc=xloc15 :0.465188133985;
	[select_xloc4] loc=xloc15 :0.40049968789;
	[select_xloc13] loc=xloc15 :1.28514590611;
	[select_xloc12] loc=xloc15 :0.829698740508;
	[select_xloc11] loc=xloc15 :0.843148859929;
	[select_xloc10] loc=xloc15 :0.6;
	[select_xloc14] loc=xloc15 :1.02839681057;
	[select_dloc3] loc=xloc15 :0.378021163429;
	[select_dloc2] loc=xloc15 :0.559016994375;
	[select_dloc1] loc=xloc15 :0.200997512422;
	[select_xloc9] loc=xloc14 :1.4;
	[select_xloc8] loc=xloc14 :0.711969100453;
	[select_xloc3] loc=xloc14 :1.51462866736;
	[select_xloc2] loc=xloc14 :0.802246844805;
	[select_xloc1] loc=xloc14 :0.430813184571;
	[select_xloc7] loc=xloc14 :0.602992537267;
	[select_xloc6] loc=xloc14 :0.522015325446;
	[select_xloc5] loc=xloc14 :1.21342490497;
	[select_xloc4] loc=xloc14 :0.653911308971;
	[select_xloc13] loc=xloc14 :0.297321374946;
	[select_xloc12] loc=xloc14 :0.200997512422;
	[select_xloc11] loc=xloc14 :1.71548826869;
	[select_xloc10] loc=xloc14 :0.466476151588;
	[select_xloc15] loc=xloc14 :1.02839681057;
	[select_dloc3] loc=xloc14 :0.843148859929;
	[select_dloc2] loc=xloc14 :1.50003333296;
	[select_dloc1] loc=xloc14 :0.841189633793;
endrewards

rewards "T"
	[select_xloc8] loc=xloc9 :14.2393820091;
	[select_xloc3] loc=xloc9 :4.65188133985;
	[select_xloc2] loc=xloc9 :12.0598507453;
	[select_xloc1] loc=xloc9 :20.2543822419;
	[select_xloc7] loc=xloc9 :16.0449368961;
	[select_xloc6] loc=xloc9 :18.2482875909;
	[select_xloc5] loc=xloc9 :5.38144961883;
	[select_xloc4] loc=xloc9 :16.8237926759;
	[select_xloc13] loc=xloc9 :32.3010835732;
	[select_xloc12] loc=xloc9 :24.0033331019;
	[select_xloc11] loc=xloc9 :7.56042326857;
	[select_xloc10] loc=xloc9 :20.5679362115;
	[select_xloc15] loc=xloc9 :9.32952303175;
	[select_xloc14] loc=xloc9 :28.0;
	[select_dloc3] loc=xloc9 :16.8629771986;
	[select_dloc2] loc=xloc9 :2.00997512422;
	[select_dloc1] loc=xloc9 :13.0782261794;
	[select_xloc9] loc=xloc8 :14.2393820091;
	[select_xloc3] loc=xloc8 :16.0798009938;
	[select_xloc2] loc=xloc8 :4.29418211072;
	[select_xloc1] loc=xloc8 :6.02992537267;
	[select_xloc7] loc=xloc8 :4.29418211072;
	[select_xloc6] loc=xloc8 :4.01995024845;
	[select_xloc5] loc=xloc8 :10.0498756211;
	[select_xloc4] loc=xloc8 :8.05232885568;
	[select_xloc13] loc=xloc8 :18.089776118;
	[select_xloc12] loc=xloc8 :10.4403065089;
	[select_xloc11] loc=xloc8 :20.0997512422;
	[select_xloc10] loc=xloc8 :9.52680429105;
	[select_xloc15] loc=xloc8 :9.52680429105;
	[select_xloc14] loc=xloc8 :14.2393820091;
	[select_dloc3] loc=xloc8 :12.0;
	[select_dloc2] loc=xloc8 :16.1789987329;
	[select_dloc1] loc=xloc8 :8.05232885568;
	[select_xloc9] loc=xloc3 :4.65188133985;
	[select_xloc8] loc=xloc3 :16.0798009938;
	[select_xloc2] loc=xloc3 :15.0053323855;
	[select_xloc1] loc=xloc3 :22.0227155455;
	[select_xloc7] loc=xloc3 :18.792551716;
	[select_xloc6] loc=xloc3 :20.0359676582;
	[select_xloc5] loc=xloc3 :6.02992537267;
	[select_xloc4] loc=xloc3 :20.3066491574;
	[select_xloc13] loc=xloc3 :34.0005882302;
	[select_xloc12] loc=xloc3 :26.4037876071;
	[select_xloc11] loc=xloc3 :4.01995024845;
	[select_xloc10] loc=xloc3 :23.769728648;
	[select_xloc15] loc=xloc3 :13.4536240471;
	[select_xloc14] loc=xloc3 :30.2925733473;
	[select_dloc3] loc=xloc3 :20.9990475975;
	[select_dloc2] loc=xloc3 :4.0;
	[select_dloc1] loc=xloc3 :16.8629771986;
	[select_xloc9] loc=xloc2 :12.0598507453;
	[select_xloc8] loc=xloc2 :4.29418211072;
	[select_xloc3] loc=xloc2 :15.0053323855;
	[select_xloc1] loc=xloc2 :9.13016976841;
	[select_xloc7] loc=xloc2 :4.0;
	[select_xloc6] loc=xloc2 :7.32393336944;
	[select_xloc5] loc=xloc2 :9.32952303175;
	[select_xloc4] loc=xloc2 :5.65685424949;
	[select_xloc13] loc=xloc2 :20.7692079772;
	[select_xloc12] loc=xloc2 :12.0266371027;
	[select_xloc11] loc=xloc2 :18.91137224;
	[select_xloc10] loc=xloc2 :8.77268487978;
	[select_xloc15] loc=xloc2 :5.38144961883;
	[select_xloc14] loc=xloc2 :16.0449368961;
	[select_dloc3] loc=xloc2 :8.4403791384;
	[select_dloc2] loc=xloc2 :14.0698258696;
	[select_dloc1] loc=xloc2 :4.0;
	[select_xloc9] loc=xloc1 :20.2543822419;
	[select_xloc8] loc=xloc1 :6.02992537267;
	[select_xloc3] loc=xloc1 :22.0227155455;
	[select_xloc2] loc=xloc1 :9.13016976841;
	[select_xloc7] loc=xloc1 :5.94642749893;
	[select_xloc6] loc=xloc1 :2.00997512422;
	[select_xloc5] loc=xloc1 :16.004999219;
	[select_xloc4] loc=xloc1 :9.30376267969;
	[select_xloc13] loc=xloc1 :12.0598507453;
	[select_xloc12] loc=xloc1 :5.38144961883;
	[select_xloc11] loc=xloc1 :26.0376650259;
	[select_xloc10] loc=xloc1 :8.0;
	[select_xloc15] loc=xloc1 :14.4222051019;
	[select_xloc14] loc=xloc1 :8.61626369142;
	[select_dloc3] loc=xloc1 :13.9556440195;
	[select_dloc2] loc=xloc1 :22.2036033112;
	[select_dloc1] loc=xloc1 :11.6;
	[select_xloc9] loc=xloc7 :16.0449368961;
	[select_xloc8] loc=xloc7 :4.29418211072;
	[select_xloc3] loc=xloc7 :18.792551716;
	[select_xloc2] loc=xloc7 :4.0;
	[select_xloc1] loc=xloc7 :5.94642749893;
	[select_xloc6] loc=xloc7 :4.65188133985;
	[select_xloc5] loc=xloc7 :12.9243955371;
	[select_xloc4] loc=xloc7 :4.0;
	[select_xloc13] loc=xloc7 :16.9516960803;
	[select_xloc12] loc=xloc7 :8.0399004969;
	[select_xloc11] loc=xloc7 :22.7517032329;
	[select_xloc10] loc=xloc7 :5.38144961883;
	[select_xloc15] loc=xloc7 :8.77268487978;
	[select_xloc14] loc=xloc7 :12.0598507453;
	[select_dloc3] loc=xloc7 :8.4403791384;
	[select_dloc2] loc=xloc7 :18.0543623537;
	[select_dloc1] loc=xloc7 :5.65685424949;
	[select_xloc9] loc=xloc6 :18.2482875909;
	[select_xloc8] loc=xloc6 :4.01995024845;
	[select_xloc3] loc=xloc6 :20.0359676582;
	[select_xloc2] loc=xloc6 :7.32393336944;
	[select_xloc1] loc=xloc6 :2.00997512422;
	[select_xloc7] loc=xloc6 :4.65188133985;
	[select_xloc5] loc=xloc6 :14.0128512445;
	[select_xloc4] loc=xloc6 :8.4403791384;
	[select_xloc13] loc=xloc6 :14.0698258696;
	[select_xloc12] loc=xloc6 :6.89637585983;
	[select_xloc11] loc=xloc6 :24.0532742054;
	[select_xloc10] loc=xloc6 :8.05232885568;
	[select_xloc15] loc=xloc6 :12.68227109;
	[select_xloc14] loc=xloc6 :10.4403065089;
	[select_dloc3] loc=xloc6 :13.0291979799;
	[select_dloc2] loc=xloc6 :20.1950488982;
	[select_dloc1] loc=xloc6 :10.1607086367;
	[select_xloc9] loc=xloc5 :5.38144961883;
	[select_xloc8] loc=xloc5 :10.0498756211;
	[select_xloc3] loc=xloc5 :6.02992537267;
	[select_xloc2] loc=xloc5 :9.32952303175;
	[select_xloc1] loc=xloc5 :16.004999219;
	[select_xloc7] loc=xloc5 :12.9243955371;
	[select_xloc6] loc=xloc5 :14.0128512445;
	[select_xloc4] loc=xloc5 :14.8808601902;
	[select_xloc13] loc=xloc5 :28.01142624;
	[select_xloc12] loc=xloc5 :20.3960780544;
	[select_xloc11] loc=xloc5 :10.0498756211;
	[select_xloc10] loc=xloc5 :18.0709711969;
	[select_xloc15] loc=xloc5 :9.30376267969;
	[select_xloc14] loc=xloc5 :24.2684980994;
	[select_dloc3] loc=xloc5 :16.4012194669;
	[select_dloc2] loc=xloc5 :6.89637585983;
	[select_dloc1] loc=xloc5 :11.8928549979;
	[select_xloc9] loc=xloc4 :16.8237926759;
	[select_xloc8] loc=xloc4 :8.05232885568;
	[select_xloc3] loc=xloc4 :20.3066491574;
	[select_xloc2] loc=xloc4 :5.65685424949;
	[select_xloc1] loc=xloc4 :9.30376267969;
	[select_xloc7] loc=xloc4 :4.0;
	[select_xloc6] loc=xloc4 :8.4403791384;
	[select_xloc5] loc=xloc4 :14.8808601902;
	[select_xloc13] loc=xloc4 :18.6590460635;
	[select_xloc12] loc=xloc4 :9.32952303175;
	[select_xloc11] loc=xloc4 :24.0840195981;
	[select_xloc10] loc=xloc4 :4.01995024845;
	[select_xloc15] loc=xloc4 :8.0099937578;
	[select_xloc14] loc=xloc4 :13.0782261794;
	[select_dloc3] loc=xloc4 :4.65188133985;
	[select_dloc2] loc=xloc4 :18.792551716;
	[select_dloc1] loc=xloc4 :4.0;
	[select_xloc9] loc=xloc13 :32.3010835732;
	[select_xloc8] loc=xloc13 :18.089776118;
	[select_xloc3] loc=xloc13 :34.0005882302;
	[select_xloc2] loc=xloc13 :20.7692079772;
	[select_xloc1] loc=xloc13 :12.0598507453;
	[select_xloc7] loc=xloc13 :16.9516960803;
	[select_xloc6] loc=xloc13 :14.0698258696;
	[select_xloc5] loc=xloc13 :28.01142624;
	[select_xloc4] loc=xloc13 :18.6590460635;
	[select_xloc12] loc=xloc13 :9.32952303175;
	[select_xloc11] loc=xloc13 :38.0005263121;
	[select_xloc10] loc=xloc13 :15.1208465371;
	[select_xloc15] loc=xloc13 :25.7029181223;
	[select_xloc14] loc=xloc13 :5.94642749893;
	[select_dloc3] loc=xloc13 :22.6812698057;
	[select_dloc2] loc=xloc13 :34.2584296196;
	[select_dloc1] loc=xloc13 :22.1846793982;
	[select_xloc9] loc=xloc12 :24.0033331019;
	[select_xloc8] loc=xloc12 :10.4403065089;
	[select_xloc3] loc=xloc12 :26.4037876071;
	[select_xloc2] loc=xloc12 :12.0266371027;
	[select_xloc1] loc=xloc12 :5.38144961883;
	[select_xloc7] loc=xloc12 :8.0399004969;
	[select_xloc6] loc=xloc12 :6.89637585983;
	[select_xloc5] loc=xloc12 :20.3960780544;
	[select_xloc4] loc=xloc12 :9.32952303175;
	[select_xloc13] loc=xloc12 :9.32952303175;
	[select_xloc11] loc=xloc12 :30.4138126515;
	[select_xloc10] loc=xloc12 :5.94642749893;
	[select_xloc15] loc=xloc12 :16.5939748102;
	[select_xloc14] loc=xloc12 :4.01995024845;
	[select_dloc3] loc=xloc12 :13.4536240471;
	[select_dloc2] loc=xloc12 :26.0069221555;
	[select_dloc1] loc=xloc12 :12.9243955371;
	[select_xloc9] loc=xloc11 :7.56042326857;
	[select_xloc8] loc=xloc11 :20.0997512422;
	[select_xloc3] loc=xloc11 :4.01995024845;
	[select_xloc2] loc=xloc11 :18.91137224;
	[select_xloc1] loc=xloc11 :26.0376650259;
	[select_xloc7] loc=xloc11 :22.7517032329;
	[select_xloc6] loc=xloc11 :24.0532742054;
	[select_xloc5] loc=xloc11 :10.0498756211;
	[select_xloc4] loc=xloc11 :24.0840195981;
	[select_xloc13] loc=xloc11 :38.0005263121;
	[select_xloc12] loc=xloc11 :30.4138126515;
	[select_xloc10] loc=xloc11 :27.6470613267;
	[select_xloc15] loc=xloc11 :16.8629771986;
	[select_xloc14] loc=xloc11 :34.3097653737;
	[select_dloc3] loc=xloc11 :24.4131112315;
	[select_dloc2] loc=xloc11 :5.94642749893;
	[select_dloc1] loc=xloc11 :20.4948774088;
	[select_xloc9] loc=xloc10 :20.5679362115;
	[select_xloc8] loc=xloc10 :9.52680429105;
	[select_xloc3] loc=xloc10 :23.769728648;
	[select_xloc2] loc=xloc10 :8.77268487978;
	[select_xloc1] loc=xloc10 :8.0;
	[select_xloc7] loc=xloc10 :5.38144961883;
	[select_xloc6] loc=xloc10 :8.05232885568;
	[select_xloc5] loc=xloc10 :18.0709711969;
	[select_xloc4] loc=xloc10 :4.01995024845;
	[select_xloc13] loc=xloc10 :15.1208465371;
	[select_xloc12] loc=xloc10 :5.94642749893;
	[select_xloc11] loc=xloc10 :27.6470613267;
	[select_xloc15] loc=xloc10 :12.0;
	[select_xloc14] loc=xloc10 :9.32952303175;
	[select_dloc3] loc=xloc10 :7.56042326857;
	[select_dloc2] loc=xloc10 :22.5610283454;
	[select_dloc1] loc=xloc10 :8.0099937578;
	[select_xloc9] loc=xloc15 :9.32952303175;
	[select_xloc8] loc=xloc15 :9.52680429105;
	[select_xloc3] loc=xloc15 :13.4536240471;
	[select_xloc2] loc=xloc15 :5.38144961883;
	[select_xloc1] loc=xloc15 :14.4222051019;
	[select_xloc7] loc=xloc15 :8.77268487978;
	[select_xloc6] loc=xloc15 :12.68227109;
	[select_xloc5] loc=xloc15 :9.30376267969;
	[select_xloc4] loc=xloc15 :8.0099937578;
	[select_xloc13] loc=xloc15 :25.7029181223;
	[select_xloc12] loc=xloc15 :16.5939748102;
	[select_xloc11] loc=xloc15 :16.8629771986;
	[select_xloc10] loc=xloc15 :12.0;
	[select_xloc14] loc=xloc15 :20.5679362115;
	[select_dloc3] loc=xloc15 :7.56042326857;
	[select_dloc2] loc=xloc15 :11.1803398875;
	[select_dloc1] loc=xloc15 :4.01995024845;
	[select_xloc9] loc=xloc14 :28.0;
	[select_xloc8] loc=xloc14 :14.2393820091;
	[select_xloc3] loc=xloc14 :30.2925733473;
	[select_xloc2] loc=xloc14 :16.0449368961;
	[select_xloc1] loc=xloc14 :8.61626369142;
	[select_xloc7] loc=xloc14 :12.0598507453;
	[select_xloc6] loc=xloc14 :10.4403065089;
	[select_xloc5] loc=xloc14 :24.2684980994;
	[select_xloc4] loc=xloc14 :13.0782261794;
	[select_xloc13] loc=xloc14 :5.94642749893;
	[select_xloc12] loc=xloc14 :4.01995024845;
	[select_xloc11] loc=xloc14 :34.3097653737;
	[select_xloc10] loc=xloc14 :9.32952303175;
	[select_xloc15] loc=xloc14 :20.5679362115;
	[select_dloc3] loc=xloc14 :16.8629771986;
	[select_dloc2] loc=xloc14 :30.0006666593;
	[select_dloc1] loc=xloc14 :16.8237926759;
endrewards

// Excavatability probabilities for excavation locations
const double ex_loc9=0.5633;
const double ex_loc8=0.8214;
const double ex_loc3=0.785;
const double ex_loc2=0.6221;
const double ex_loc1=0.5336;
const double ex_loc7=0.5358;
const double ex_loc6=0.5399;
const double ex_loc5=0.9617;
const double ex_loc4=0.5583;
const double ex_loc13=0.823;
const double ex_loc12=0.6511;
const double ex_loc11=0.7586;
const double ex_loc10=0.744;
const double ex_loc15=0.6735;
const double ex_loc14=0.7679;

// Maximum number of excavation attempts (can be 1 by default, number of excavation locations upper bound)
const int MAX_TRIED=1;
